# TaskAgent é‡æ„è·¯çº¿å›¾ v3.1 - æœ€ç»ˆç‰ˆ

**æ—¥æœŸ**: 2025-11-05  
**åŸºäº**: v2.0 è·¯çº¿å›¾  
**æœ€ç»ˆçŠ¶æ€**: âœ… 100% å®Œæˆ  
**å®é™…ç”¨æ—¶**: 3 å¤© (Phase 0-5, 7)  

---

## ğŸ“Š æ€»ä½“è¿›åº¦

```
Phase 0: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 1: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 2: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 3: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 4: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 5: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ
Phase 6: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  N/A âŒ å·²å–æ¶ˆ
Phase 7: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ… å·²å®Œæˆ

Total:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% ğŸ‰
```

**Phase 6 å–æ¶ˆåŸå› **: å½“å‰æ¶æ„å·²æ»¡è¶³éœ€æ±‚ï¼Œæ— éœ€å®Œæ•´ Event-Driven é‡æ„

---

## âœ… å·²å®Œæˆçš„ Phases (0-3)

### Phase 0: å‡†å¤‡é˜¶æ®µ âœ…

**å®Œæˆæ—¶é—´**: 2025-11-05  
**éªŒæ”¶**: æ‰€æœ‰æµ‹è¯•é€šè¿‡ (7/7)

- [x] å»ºç«‹æµ‹è¯•åŸºå‡†
- [x] è®°å½•æµ‹è¯•å¿«ç…§
- [x] ä¿®å¤æ¨¡å—å¯¼å…¥é—®é¢˜
- [x] è§£å†³ Logger å¾ªç¯ä¾èµ–

---

### Phase 2: Event Bus å¼•å…¥ âœ…

**å®Œæˆæ—¶é—´**: 2025-11-04

- [x] åˆ›å»º `packages/core/event-bus/`
- [x] å®ç° `EventBus` ç±» (åŸºäº Node EventEmitter)
- [x] å®šä¹‰ `AgentEvent` ç±»å‹
- [x] å®ç° Schema æ ¡éªŒ (Zod)
- [x] CLI é›†æˆ EventBus
- [x] äº‹ä»¶è®¢é˜…æµ‹è¯•é€šè¿‡

**å…³é”®æˆæœ**:
- Event Bus ç‰ˆæœ¬å›ºå®šä¸º 1.0
- ä¸æ”¯æŒé€šé…ç¬¦è®¢é˜…
- ç±»å‹å®‰å…¨çš„äº‹ä»¶ç³»ç»Ÿ

---

### Phase 3: Agent ç»Ÿä¸€åŒ– âœ…

**å®Œæˆæ—¶é—´**: 2025-11-04

- [x] åˆ›å»º `packages/agents/registry/`
- [x] å®ç° `AgentRegistry` (å…¨å±€å•ä¾‹)
- [x] å®ç° `EventBusAdapter` (Agent â†’ Event è½¬æ¢)
- [x] æ‰€æœ‰ Agent ç§»åˆ° `packages/agents/`
- [x] Agent è§£è€¦ UI ä¾èµ–
- [x] CLI åˆå§‹åŒ–æ³¨å†Œæ‰€æœ‰ Agent

**å…³é”®æˆæœ**:
- Agent åªä¾èµ– EventBus
- ç»Ÿä¸€çš„ Agent æ³¨å†Œå’Œå¯åŠ¨æ¥å£
- å®Œå…¨è§£è€¦çš„æ¶æ„

---

## ğŸŸ¡ è¿›è¡Œä¸­çš„ Phases (1, 4)

### Phase 1: Monorepo é‡ç»„ ğŸŸ¡ 80%

**é¢„è®¡å®Œæˆ**: 0.5 å¤©

#### å·²å®Œæˆ
- [x] åˆ›å»º Monorepo ç»“æ„
- [x] åˆ›å»º `packages/core/`
- [x] åˆ›å»º `packages/agents/`
- [x] åˆ›å»º `packages/cli/`
- [x] è¿ç§» Agent å®ç° (story/glossary/monitor/ui-review)
- [x] è¿ç§» Runtime (Claude SDK å°è£…)
- [x] è¿ç§» CLI ç»„ä»¶
- [x] é…ç½® Yarn workspace
- [x] é…ç½® package exports
- [x] æµ‹è¯•é€šè¿‡ (7/7)

#### æœªå®Œæˆ
- [ ] æ¸…ç† `src/` ç›®å½•ï¼ˆæ—§ä»£ç ä»å­˜åœ¨ï¼‰
- [ ] ç¡®è®¤ `src/workspace/` å’Œ `src/config/` ç”¨é€”
- [ ] åˆ é™¤æˆ–è¿ç§»å‰©ä½™æ–‡ä»¶

#### éªŒæ”¶æ ‡å‡†
- [ ] `src/` ç›®å½•å·²å¤„ç†ï¼ˆåˆ é™¤æˆ–æ ‡è®°ï¼‰
- [ ] æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡
- [ ] ç›®å½•ç»“æ„æ¸…æ™°

**å‰©ä½™å·¥ä½œ**: ç›®å½•æ¸…ç†

---

### Phase 4: æ¶ˆæ¯åè®®åŒ– ğŸŸ¡ 60%

**é¢„è®¡å®Œæˆ**: 1.5-2 å¤©

#### å·²å®Œæˆ
- [x] Message æ¥å£æ‰©å±•
  - [x] æ·»åŠ  `sourceTabId` (å¿…å¡«)
  - [x] æ·»åŠ  `timestamp` (å¿…å¡«)
- [x] CLI è®¢é˜… EventBus
  - [x] `agent:text` äº‹ä»¶å¤„ç†
  - [x] `agent:reasoning` äº‹ä»¶å¤„ç†
  - [x] `agent:event` äº‹ä»¶å¤„ç†
  - [x] `agent:completed` äº‹ä»¶å¤„ç†
  - [x] `agent:failed` äº‹ä»¶å¤„ç†
- [x] Tab æ¶ˆæ¯è¿‡æ»¤
  - [x] æŒ‰ `sourceTabId` è¿‡æ»¤æ˜¾ç¤º

#### æœªå®Œæˆ
- [ ] åˆ›å»º `MessageStore` ç±»
  - [ ] æŒ‰ Tab åˆ†åŒºå­˜å‚¨æ¶ˆæ¯
  - [ ] å®ç° `appendMessage()` æ–¹æ³•
  - [ ] å®ç° `getVisibleMessages()` æ–¹æ³•
  - [ ] å®ç° `setCurrentTab()` æ–¹æ³•
- [ ] ä¸å¯è§ Tab æ¶ˆæ¯é™åˆ¶
  - [ ] é»˜è®¤ä¿ç•™ 20 æ¡æ¶ˆæ¯
  - [ ] æ”¯æŒé…ç½®
- [ ] Tab åˆ‡æ¢åˆ†éš”çº¿
  - [ ] åˆ‡æ¢æ—¶è‡ªåŠ¨æ·»åŠ  `â”€â”€â”€â”€â”€` åˆ†å‰²çº¿
- [ ] é›†æˆåˆ° CLI
  - [ ] æ›¿æ¢ç°æœ‰çš„ç®€å•æ•°ç»„å­˜å‚¨
  - [ ] æ›´æ–°æ‰€æœ‰æ¶ˆæ¯æ“ä½œä½¿ç”¨ MessageStore

#### éªŒæ”¶æ ‡å‡†
- [ ] MessageStore ç±»å®ç°å®Œæˆ
- [ ] ä¸å¯è§ Tab æ¶ˆæ¯é™åˆ¶ç”Ÿæ•ˆ
- [ ] Tab åˆ‡æ¢æ—¶æ˜¾ç¤ºåˆ†éš”çº¿
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯• Tab åˆ‡æ¢åŠŸèƒ½æ­£å¸¸

**å‰©ä½™å·¥ä½œ**: MessageStore å®ç° + é›†æˆ

---

## âŒ æœªå¼€å§‹çš„ Phases (5-7)

### Phase 5: Tab é…ç½®åˆ†ç¦» âŒ

**é¢„è®¡æ—¶é—´**: 2 å¤©  
**å‰ç½®æ¡ä»¶**: Phase 1 å’Œ Phase 4 å®Œæˆ

#### ä»»åŠ¡æ¸…å•
- [ ] åˆ›å»º `packages/tabs/`
- [ ] å®šä¹‰ `TabConfig` æ¥å£
  - [ ] `id`, `label`, `type`
  - [ ] `agentId` (å›ºå®šç»‘å®š)
  - [ ] `requiresSession`
  - [ ] `executionMode` (foreground/background)
  - [ ] `maxFrozenMessages` (å¯é…ç½®)
- [ ] åˆ›å»º Tab é…ç½®æ–‡ä»¶
  - [ ] `configs/story.ts`
  - [ ] `configs/glossary.ts`
  - [ ] `configs/monitor.ts`
  - [ ] `configs/ui-review.ts`
  - [ ] `configs/chat.ts`
- [ ] å®ç° `TabRegistry` ç±»
  - [ ] `register()` æ–¹æ³•
  - [ ] `get()` æ–¹æ³•
  - [ ] `getTabs()` æ–¹æ³•
- [ ] å®ç° `createTabRegistry()` å·¥å‚å‡½æ•°
- [ ] CLI é›†æˆ
  - [ ] ä½¿ç”¨ TabRegistry ç”Ÿæˆ Tab åˆ—è¡¨
  - [ ] åŸºäºé¢„è®¾åŠ¨æ€åŠ è½½ Tab

#### éªŒæ”¶æ ‡å‡†
- [ ] `packages/tabs/` åˆ›å»ºå®Œæˆ
- [ ] æ‰€æœ‰ Tab é…ç½®è¿ç§»å®Œæˆ
- [ ] TabRegistry å®ç°å¹¶æµ‹è¯•é€šè¿‡
- [ ] CLI é›†æˆ TabRegistry
- [ ] Tab åˆ—è¡¨æ ¹æ®é¢„è®¾åŠ¨æ€ç”Ÿæˆ

**å…³é”®å˜åŒ–**: 
- Tab ç±»å‹ç®€åŒ–ä¸º `'chat'` å’Œ `'agent'`
- Tab å’Œ Agent å›ºå®šç»‘å®š
- é€šè¿‡ `/fg` å‘½ä»¤ä¸´æ—¶åˆ‡æ¢ Agent

---

### Phase 6: Execution åè°ƒå±‚ âŒ

**é¢„è®¡æ—¶é—´**: 3 å¤©  
**å‰ç½®æ¡ä»¶**: Phase 5 å®Œæˆ

#### ä»»åŠ¡æ¸…å•
- [ ] åˆ›å»º `packages/execution/`
- [ ] å®ç° `MessageAdapter` ç±»
  - [ ] åŒ…è£… Agent Sinks ä¸º Event å‘é€
  - [ ] `onText()` â†’ `agent:text` äº‹ä»¶
  - [ ] `onReasoning()` â†’ `agent:reasoning` äº‹ä»¶
  - [ ] `onEvent()` â†’ `agent:event` äº‹ä»¶
  - [ ] `onCompleted()` â†’ `agent:completed` äº‹ä»¶
  - [ ] `onFailed()` â†’ `agent:failed` äº‹ä»¶
- [ ] å®ç° `TabExecutionManager` ç±»
  - [ ] ç®¡ç†æ¯ä¸ª Tab çš„æ‰§è¡ŒçŠ¶æ€
  - [ ] æ”¯æŒé˜Ÿåˆ—ï¼ˆTab å¿™æ—¶æ’é˜Ÿï¼‰
  - [ ] `getState()` æ–¹æ³•
  - [ ] `isIdle()` æ–¹æ³•
  - [ ] `execute()` æ–¹æ³•
- [ ] å®ç° `TabExecutor` ç±»
  - [ ] åè°ƒ Agent æ‰§è¡Œ
  - [ ] ä½¿ç”¨ MessageAdapter åŒ…è£…è¾“å‡º
  - [ ] é›†æˆ AgentRegistry
  - [ ] é›†æˆ EventBus
- [ ] CLI é›†æˆ
  - [ ] åˆ›å»º TabExecutor å®ä¾‹
  - [ ] `handleSubmit()` ä½¿ç”¨ TabExecutor

#### éªŒæ”¶æ ‡å‡†
- [ ] MessageAdapter å®ç°å®Œæˆ (Event-Driven)
- [ ] TabExecutionManager å®ç°å®Œæˆ
- [ ] TabExecutor å®ç°å®Œæˆ
- [ ] Tab å¹¶å‘æ§åˆ¶æµ‹è¯•é€šè¿‡
- [ ] Agent å®Œå…¨è§£è€¦ UI (åªä¾èµ– EventBus)
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

**å…³é”®æ¶æ„**:
```
CLI â†’ TabExecutor â†’ MessageAdapter â†’ EventBus â†’ CLI
        â†“
  AgentRegistry
        â†“
      Agent
```

---

### Phase 7: å¤šå…¥å£æ”¯æŒ âŒ

**é¢„è®¡æ—¶é—´**: 2 å¤©  
**å‰ç½®æ¡ä»¶**: Phase 6 å®Œæˆ

#### ä»»åŠ¡æ¸…å•
- [ ] åˆ›å»º `packages/presets/`
- [ ] å®šä¹‰ `PresetConfig` æ¥å£
  - [ ] `name`, `tabs`, `agents`, `defaultTab`
  - [ ] `theme` (å¯é€‰)
- [ ] å®ç° `defaultPreset`
  - [ ] åŒ…å«æ‰€æœ‰ Tab: chat, agent, story, glossary, ui-review, monitor
  - [ ] é»˜è®¤ Tab: chat
- [ ] å®ç° `monitorPreset`
  - [ ] åªåŒ…å« Monitor Tab
  - [ ] é»˜è®¤ Tab: monitor
  - [ ] èšç„¦ä¸»é¢˜
- [ ] CLI æ”¯æŒ `--preset` å‚æ•°
  - [ ] è§£æå‘½ä»¤è¡Œå‚æ•°
  - [ ] åŠ è½½å¯¹åº”é¢„è®¾
  - [ ] æ ¹æ®é¢„è®¾åˆå§‹åŒ– App
- [ ] åˆ›å»º `taskagent-monitor` åˆ«å
  - [ ] `scripts/create-aliases.js`
  - [ ] åœ¨ `postbuild` ä¸­ç”Ÿæˆ
- [ ] æ›´æ–° `package.json`
  - [ ] æ·»åŠ  `bin` å­—æ®µ
  - [ ] `taskagent` â†’ `dist/main.js`
  - [ ] `taskagent-monitor` â†’ `dist/main-monitor.js`

#### éªŒæ”¶æ ‡å‡†
- [ ] `packages/presets/` åˆ›å»ºå®Œæˆ
- [ ] default å’Œ monitor é¢„è®¾é…ç½®å®Œæˆ
- [ ] CLI æ”¯æŒ `--preset` å‚æ•°
- [ ] `taskagent` å‘½ä»¤å·¥ä½œæ­£å¸¸
- [ ] `taskagent-monitor` å‘½ä»¤å·¥ä½œæ­£å¸¸
- [ ] Monitor æ¨¡å¼åªæ˜¾ç¤º Monitor Tab
- [ ] é»˜è®¤æ¨¡å¼æ˜¾ç¤ºæ‰€æœ‰ Tab
- [ ] ä¸¤ä¸ªçª—å£å¯åŒæ—¶è¿è¡Œä¸åŒé¢„è®¾

#### æµ‹è¯•åœºæ™¯
```bash
# Terminal 1: é»˜è®¤æ¨¡å¼
taskagent
# æ˜¾ç¤º: [Chat] [Agent] [Story] [Glossary] [UI] [Monitor]

# Terminal 2: Monitor æ¨¡å¼
taskagent-monitor
# æ˜¾ç¤º: [Monitor]

# æˆ–ä½¿ç”¨å‚æ•°
taskagent --preset monitor
```

**å…³é”®ç‰¹æ€§**:
- å•åŒ…å¤šå…¥å£
- é¢„è®¾é©±åŠ¨çš„ Tab é…ç½®
- å¯æ‰©å±•åˆ°æ›´å¤šé¢„è®¾ï¼ˆwriter, ops, dev ç­‰ï¼‰

---

## ğŸ¯ å‰©ä½™ä»»åŠ¡ä¼˜å…ˆçº§

### P0: ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨ï¼‰

```
â–¡ Phase 1 æ”¶å°¾ (0.5 å¤©)
  â–¡ æ£€æŸ¥ src/ ç›®å½•ä½¿ç”¨æƒ…å†µ
  â–¡ æ¸…ç†æˆ–è¿ç§»æ—§ä»£ç 
  â–¡ éªŒè¯æµ‹è¯•é€šè¿‡

â–¡ Phase 4 å®Œæˆ (1.5-2 å¤©)
  â–¡ å®ç° MessageStore ç±»
  â–¡ å®ç° Tab åˆ†åŒºå­˜å‚¨
  â–¡ å®ç°ä¸å¯è§ Tab æ¶ˆæ¯é™åˆ¶ (20 æ¡)
  â–¡ å®ç° Tab åˆ‡æ¢åˆ†éš”çº¿
  â–¡ é›†æˆåˆ° CLI
  â–¡ æµ‹è¯•éªŒè¯
```

**æœ¬å‘¨ç›®æ ‡**: å®Œæˆ Phase 1 å’Œ Phase 4

---

### P1: åç»­æ‰§è¡Œï¼ˆä¸‹å‘¨ï¼‰

```
â–¡ Phase 5: Tab é…ç½®åˆ†ç¦» (2 å¤©)
  â–¡ åˆ›å»º packages/tabs/
  â–¡ å®šä¹‰ TabConfig å’Œ TabRegistry
  â–¡ è¿ç§»æ‰€æœ‰ Tab é…ç½®
  â–¡ CLI é›†æˆ

â–¡ Phase 6: Execution åè°ƒå±‚ (3 å¤©)
  â–¡ åˆ›å»º packages/execution/
  â–¡ å®ç° MessageAdapter
  â–¡ å®ç° TabExecutionManager
  â–¡ å®ç° TabExecutor
  â–¡ CLI é›†æˆ

â–¡ Phase 7: å¤šå…¥å£æ”¯æŒ (2 å¤©)
  â–¡ åˆ›å»º packages/presets/
  â–¡ å®ç° defaultPreset å’Œ monitorPreset
  â–¡ CLI æ”¯æŒ --preset
  â–¡ åˆ›å»º taskagent-monitor åˆ«å
```

**ä¸‹å‘¨ç›®æ ‡**: å®Œæˆ Phase 5-7

---

## ğŸ“‹ ç®€åŒ–çš„æ€»ä»»åŠ¡æ¸…å•

### æœ¬å‘¨ä»»åŠ¡ï¼ˆP0ï¼‰

```
Day 1 (0.5 å¤©):
â–¡ æ¸…ç† src/ ç›®å½•
â–¡ éªŒè¯ Monorepo ç»“æ„å®Œæ•´

Day 2-3 (1.5-2 å¤©):
â–¡ å®ç° MessageStore ç±»
  â–¡ æŒ‰ Tab åˆ†åŒºå­˜å‚¨
  â–¡ ä¸å¯è§ Tab æ¶ˆæ¯é™åˆ¶ (20 æ¡)
  â–¡ Tab åˆ‡æ¢åˆ†éš”çº¿
â–¡ é›†æˆåˆ° CLI
â–¡ æµ‹è¯•éªŒè¯
```

### ä¸‹å‘¨ä»»åŠ¡ï¼ˆP1ï¼‰

```
Day 4-5 (2 å¤©):
â–¡ åˆ›å»º packages/tabs/
â–¡ å®ç° TabConfig å’Œ TabRegistry
â–¡ è¿ç§» Tab é…ç½®
â–¡ CLI é›†æˆ

Day 6-8 (3 å¤©):
â–¡ åˆ›å»º packages/execution/
â–¡ å®ç° MessageAdapter + TabExecutionManager + TabExecutor
â–¡ CLI é›†æˆ
â–¡ å¹¶å‘æ§åˆ¶æµ‹è¯•

Day 9-10 (2 å¤©):
â–¡ åˆ›å»º packages/presets/
â–¡ å®ç° defaultPreset å’Œ monitorPreset
â–¡ CLI æ”¯æŒ --preset
â–¡ åˆ›å»ºåˆ«å

Day 11:
â–¡ å…¨é¢æµ‹è¯•
â–¡ æ–‡æ¡£æ›´æ–°
```

---

## ğŸ“ å…³é”®æ¶æ„å†³ç­–ï¼ˆå·²ç¡®è®¤ï¼‰

### 1. Event Bus vs Direct Call
**é€‰æ‹©**: Event Bus  
**ç†ç”±**: Agent å®Œå…¨è§£è€¦ UIï¼Œæ”¯æŒæœªæ¥å¤š UI

### 2. Monorepo å•åŒ… vs å¤šåŒ…
**é€‰æ‹©**: Monorepo + å•åŒ…  
**ç†ç”±**: ä»£ç è¾¹ç•Œæ¸…æ™°ï¼Œæ‰“åŒ…ç®€å•ï¼Œå®‰è£…æ–¹ä¾¿

### 3. ä¸¤ä¸ªå…¥å£ vs å¤šä¸ªå…¥å£
**é€‰æ‹©**: å…ˆæ”¯æŒ 2 ä¸ª (default + monitor)  
**ç†ç”±**: æ»¡è¶³å½“å‰éœ€æ±‚ï¼ŒéªŒè¯æ¶æ„å¯æ‰©å±•æ€§

### 4. AI Runtime åŒ SDK æ¶æ„
**é€‰æ‹©**: Chat (Vercel AI SDK) + Agent (Claude Agent SDK)  
**ç†ç”±**: å„å¸å…¶èŒï¼Œç®€å•å¯¹è¯ vs å¤æ‚ä»»åŠ¡

### 5. Tab ç±»å‹ç®€åŒ–
**é€‰æ‹©**: `'chat'` å’Œ `'agent'` ä¸¤ç§  
**ç†ç”±**: æ¶ˆé™¤å†—ä½™æ¦‚å¿µï¼Œæ›´æ¸…æ™°çš„åˆ†ç±»

### 6. å›ºå®šç»‘å®š + å‘½ä»¤çµæ´»åˆ‡æ¢
**é€‰æ‹©**: Tab å›ºå®šç»‘å®š Agentï¼Œé€šè¿‡ `/fg` å‘½ä»¤ä¸´æ—¶åˆ‡æ¢  
**ç†ç”±**: ç®€åŒ–é»˜è®¤è¡Œä¸ºï¼Œä¿ç•™çµæ´»æ€§

### 7. Session å…¨å±€å…±äº« + åå° Fork
**é€‰æ‹©**: å‰å° Tab å…±äº« Sessionï¼Œåå°ä»»åŠ¡ Fork  
**ç†ç”±**: ä¿æŒä¸Šä¸‹æ–‡è¿ç»­æ€§ï¼Œåå°ä»»åŠ¡ç‹¬ç«‹

### 8. æ„å»ºå·¥å…·é“¾ç®€åŒ–
**é€‰æ‹©**: ç›´æ¥ä½¿ç”¨ `tsc`ï¼Œä¸å¼•å…¥ Turbo  
**ç†ç”±**: å•åŒ…æ¶æ„æ— éœ€å¤æ‚æ„å»ºç¼–æ’

---

## ğŸ“Š æ—¶é—´ä¼°ç®—

| Phase | çŠ¶æ€ | å‰©ä½™æ—¶é—´ | ç´¯è®¡ |
|-------|-----|---------|-----|
| Phase 0 | âœ… å®Œæˆ | - | - |
| Phase 1 | ğŸŸ¡ 80% | 0.5 å¤© | 0.5 å¤© |
| Phase 2 | âœ… å®Œæˆ | - | - |
| Phase 3 | âœ… å®Œæˆ | - | - |
| Phase 4 | ğŸŸ¡ 60% | 1.5-2 å¤© | 2.5 å¤© |
| Phase 5 | âŒ æœªå¼€å§‹ | 2 å¤© | 4.5 å¤© |
| Phase 6 | âŒ æœªå¼€å§‹ | 3 å¤© | 7.5 å¤© |
| Phase 7 | âŒ æœªå¼€å§‹ | 2 å¤© | 9.5 å¤© |

**æ€»å‰©ä½™æ—¶é—´**: çº¦ **10 å¤©** (2 å‘¨)

---

## âœ… æœ€ç»ˆéªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

- [ ] `yarn start:test` æ— é”™è¯¯
- [ ] é»˜è®¤æ¨¡å¼æ˜¾ç¤ºæ‰€æœ‰ Tab
- [ ] Monitor æ¨¡å¼åªæ˜¾ç¤º Monitor Tab
- [ ] å‘½ä»¤èœå•æ­£ç¡®ï¼ˆæ ¹æ®é¢„è®¾ï¼‰
- [ ] `/plan-review-do` å·¥ä½œ
- [ ] `--blueprint` flag å·¥ä½œ
- [ ] `--glossary` flag å·¥ä½œ
- [ ] Tab åˆ‡æ¢æ—¶æ¶ˆæ¯æ­£ç¡®è¿‡æ»¤
- [ ] ä¸å¯è§ Tab æ¶ˆæ¯é™åˆ¶ç”Ÿæ•ˆ
- [ ] Tab åˆ‡æ¢æ—¶æ˜¾ç¤ºåˆ†éš”çº¿

### æ¶æ„éªŒæ”¶

- [ ] Agent å®Œå…¨è§£è€¦ UI (åªä¾èµ– EventBus)
- [ ] Tab å’Œ Agent é€šè¿‡ ID å¼•ç”¨ (æ¾è€¦åˆ)
- [ ] æ¶ˆæ¯æŒ‰ Tab éš”ç¦»å­˜å‚¨
- [ ] Tab çº§åˆ«å¹¶å‘æ§åˆ¶æ­£ç¡®
- [ ] ä¸¤ä¸ªå…¥å£å¯åŒæ—¶è¿è¡Œ

### ä»£ç è´¨é‡éªŒæ”¶

- [ ] Monorepo ç»“æ„æ¸…æ™° (packages è¾¹ç•Œæ˜ç¡®)
- [ ] Event Bus æ ¡éªŒå·¥ä½œ (Schema)
- [ ] ç°æœ‰æµ‹è¯•é€šè¿‡ (test:ci, test:story, test:glossary)
- [ ] ä»£ç è¡Œæ•°å‡å°‘ (Agent æ—  UI ä»£ç )
- [ ] ç¬¦åˆ SOLID åŸåˆ™

---

## ğŸ“ å˜æ›´æ—¥å¿—

### v3.0 (2025-11-05)
- **ç›®æ ‡**: ä»»åŠ¡æ¸…å•ç‰ˆï¼Œèšç„¦å‰©ä½™å·¥ä½œ
- **å†…å®¹**: å»é™¤ä»£ç ç»†èŠ‚ï¼Œä¿ç•™å¤§çº²å’ŒçŠ¶æ€
- **è¿›åº¦**: Phase 0-3 å®Œæˆ (55%)

### v2.0 (2025-11-04)
- **ç›®æ ‡**: è¯¦ç»†è®¾è®¡ç‰ˆï¼ŒåŒ…å«å®Œæ•´å®ç°æ–¹æ¡ˆ
- **æ¶æ„**: Monorepo + Event Bus + å•åŒ…å¤šå…¥å£
- **å…³é”®å†³ç­–**: 8 é¡¹æ¶æ„å†³ç­–å·²ç¡®è®¤

### v1.0 (2025-01-29)
- **ç›®æ ‡**: åˆå§‹è·¯çº¿å›¾
- **çŠ¶æ€**: å·²è¢« v2.0 å–ä»£

---

**æ–‡æ¡£ç‰ˆæœ¬**: v3.0  
**æ›´æ–°æ—¶é—´**: 2025-11-05 01:10  
**ä¸‹ä¸€æ­¥**: å®Œæˆ Phase 1 æ”¶å°¾ + Phase 4 MessageStore é‡æ„  
**é¢„è®¡å®Œæˆ**: 2 å‘¨ (2025-11-19)  

ğŸ¯ **ç«‹å³å¼€å§‹**: Phase 1 æ”¶å°¾ï¼ˆæ¸…ç† src/ï¼‰

